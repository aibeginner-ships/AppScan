ğŸ§© Goal

Upgrade AppScan to include an Insight Layer that analyzes all fetched reviews and surfaces:

2â€“3 prioritized actionables (data-backed, high-impact themes)

Short â€œWhat users loveâ€ and â€œWhat users hateâ€ summaries (3 bullets each)

The goal is to transform AppScan from a descriptive analytics tool (what users say) into a prescriptive one (what to do next).

ğŸ¯ Core Objectives

Use existing sentiment + topic data to rank review themes by importance.

Generate 2â€“3 concise actionables using OpenAI summarization.

Generate â€œWhat users loveâ€ and â€œWhat users hateâ€ bullet summaries.

Display insights as cards below the trend chart in the frontend.

âš™ï¸ Stack & Constraints

Backend: Express + Node.js

Frontend: React + Tailwind CSS + Chart.js

AI: OpenAI API (gpt-4o-mini)

Data limit: 500 reviews max per run

No database yet (keep everything in memory)

Reuse existing modules for fetching reviews, sentiment, and topics.

ğŸ§± Functional Requirements
Backend (Express)
1ï¸âƒ£ New Module: insightGenerator.js

Implements logic to:

Take all parsed reviews with { sentiment, topics, rating, date, text }

Compute top themes by:

Mention volume

Negative ratio

Recency trend

Rank using formula:

score = 0.5 * normalizedVolume + 0.35 * negativeRatio + 0.15 * recentTrend;


Select top 3 themes.

2ï¸âƒ£ OpenAI summarization

Use OpenAI API to:

Summarize 3 â€œWhat users loveâ€ bullets from positive reviews.

Summarize 3 â€œWhat users hateâ€ bullets from negative reviews.

Generate 2â€“3 â€œInsight cardsâ€ with: title, why it matters, metrics, and suggested action.

Prompt Example (for insights):

You are a product analyst. Given user feedback data grouped by themes, write up to 3 concise insights
as JSON objects. Each should have: 
"title", "why_it_matters", "metrics", "representative_quote", and "suggested_action".

Themes with high negative sentiment should be prioritized.
Keep tone factual, professional, and actionable.


Return strictly formatted JSON like:

[
  {
    "title": "Investigate frequent login crashes",
    "why_it_matters": "Mentioned in 25% of negative reviews, spike in last 30 days.",
    "metrics": { "mentions": 120, "share": 0.24, "negative_ratio": 0.9 },
    "representative_quote": "App keeps crashing after login since the latest update.",
    "suggested_action": "Reproduce crash on Android 13 and roll back session handler changes."
  }
]

3ï¸âƒ£ Extend /analyze endpoint

After generating sentiment & topic data:

Call insightGenerator()

Add two new fields to the response:

insights: array of 2â€“3 actionable insights

what_users_love / what_users_hate: arrays of 3 bullet points each

Example Response:

{
  "app_name": "Spotify",
  "trend": [...],
  "what_users_love": [
    "Great design and offline mode",
    "Easy to navigate and create playlists",
    "Fast performance and good recommendations"
  ],
  "what_users_hate": [
    "Frequent login crashes after updates",
    "Too many ads in free version",
    "Pricey subscription tiers"
  ],
  "insights": [
    {
      "title": "Login crashes increasing since September update",
      "why_it_matters": "Crash mentions rose 3x; sentiment dropped from 4.3â­ to 4.0â­.",
      "metrics": { "mentions": 120, "negative_ratio": 0.78 },
      "representative_quote": "The app freezes every time I log in.",
      "suggested_action": "Prioritize fixing session management in next release."
    },
    {
      "title": "Ads hurting user satisfaction",
      "why_it_matters": "Ads are mentioned in 18% of negative reviews.",
      "metrics": { "mentions": 90, "negative_ratio": 0.72 },
      "representative_quote": "Too many unskippable ads make the app unusable.",
      "suggested_action": "Reduce ad frequency or improve ad UX."
    }
  ]
}

Frontend (React)
1ï¸âƒ£ New Components

InsightCards.jsx

Displays each actionable insight as a card.

Sections:

Title

â€œWhy it mattersâ€

Metrics (mentions %, trend, sentiment ratio)

Quote

Suggested Action

Footer: badges for â€œImpactâ€ and â€œConfidenceâ€ (High/Med/Low)

WhatLoveHateBlock.jsx

Two columns:

ğŸ’š â€œWhat Users Loveâ€ â†’ list of 3 bullet points

ğŸ’” â€œWhat Users Hateâ€ â†’ list of 3 bullet points

2ï¸âƒ£ Placement in App

Place the new blocks below the trend chart, like this:

[ Summary Cards ]
[ Trend Chart ]
[ What Users Love / Hate ]
[ Insight Cards ]

3ï¸âƒ£ Styling

Use Tailwind for layout consistency.

Add simple hover animation for cards.

Use green/red color accents for positive/negative.

Mobile responsive layout (stacked vertically).

ğŸ§° Folder Structure
appscan/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ insightGenerator.js
â”‚   â”œâ”€â”€ openaiClient.js
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ topicClusterer.js
â”‚       â””â”€â”€ sentimentAnalyzer.js
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/components/
â”‚   â”‚   â”œâ”€â”€ TrendChart.jsx
â”‚   â”‚   â”œâ”€â”€ WhatLoveHateBlock.jsx
â”‚   â”‚   â””â”€â”€ InsightCards.jsx
â”‚   â”œâ”€â”€ App.jsx
â”‚   â””â”€â”€ index.jsx
â””â”€â”€ README.md

ğŸ”§ Step-by-Step Implementation Plan
Step 1 â€” Backend Setup

Add insightGenerator.js in backend.

Import OpenAI client (openai npm package).

Implement helper to:

Cluster reviews by topic

Compute volume, sentiment ratios, recent trend

Rank top 3 themes by weighted score

Prompt OpenAI to summarize them into actionable insights

Step 2 â€” Extend /analyze Route

After sentiment analysis and topic tagging, call:

const { insights, love, hate } = await generateInsights(parsedReviews);


Append to existing API response:

res.json({ ...existingData, insights, what_users_love: love, what_users_hate: hate });

Step 3 â€” Frontend Integration

Create WhatLoveHateBlock.jsx to render two columns of 3 bullets each.

Create InsightCards.jsx to map through insights array and render each card.

Import both in App.jsx and display them below the chart.

Step 4 â€” Testing

Run with known apps (Spotify, Duolingo, Threads).

Validate that:

2â€“3 insights are returned.

â€œWhat users love/hateâ€ text reads clearly.

No empty or repetitive results.

Mock OpenAI responses locally if needed.

âš™ï¸ Example OpenAI Calls
import OpenAI from "openai";
const client = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });

export async function generateLoveHateSummaries(reviews) {
  const positiveTexts = reviews.filter(r => r.sentiment === "positive").map(r => r.text).slice(0, 200);
  const negativeTexts = reviews.filter(r => r.sentiment === "negative").map(r => r.text).slice(0, 200);
  const prompt = `Summarize the following user feedback into 3 concise bullet points for each section.
Return as JSON:
{ "love": ["..."], "hate": ["..."] }`;

  const response = await client.chat.completions.create({
    model: "gpt-4o-mini",
    messages: [
      { role: "system", content: "You are a product analyst." },
      { role: "user", content: prompt + "\n\n" + JSON.stringify({ positiveTexts, negativeTexts }) }
    ]
  });

  return JSON.parse(response.choices[0].message.content);
}

âœ… Deliverable for Version 3

A working Insight Layer that:

Generates 2â€“3 actionable insights from review data

Displays â€œWhat users loveâ€ / â€œWhat users hateâ€ summaries

Presents insights as cards in the UI

Uses OpenAI for summarization and theme synthesis

Maintains full compatibility with the existing AppScan stack